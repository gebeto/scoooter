<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Scoooters</title>
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin="" />
	<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==" crossorigin=""></script>
	<style type="text/css">
		body {
			margin: 0;
		}
		#mapid {
			height: 100vh;
			width: 100vw;
		}
	</style>
</head>
<body>
	<div id="mapid"></div>
	<script>
		function fetchScooters() {
			return fetch("/scooters.json").then(res => res.json());
		}

		const mymap = L.map('mapid').setView([49.8360948918759, 24.025636129081246], 13);
		L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
			// attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
			maxZoom: 18,
			id: 'mapbox/streets-v11',
			tileSize: 512,
			zoomOffset: -1,
		}).addTo(mymap);

		// const marker = L.marker([49.8360948918759, 24.025636129081246]).addTo(mymap);
		// marker.bindPopup("<b>Kiwi</b><br><ul><li>I am a popup.</li><li>I am a popup.</li></ul>").openPopup();

		// const polygon = L.polygon([
		// 	[51.509, -0.08],
		// 	[51.503, -0.06],
		// 	[51.51, -0.047]
		// ]).addTo(mymap);

		fetchScooters().then(scooters => {
			scooters.map(scooter => {
				const marker = L.marker(
					[scooter.location.lat, scooter.location.lon]
				).addTo(mymap);
			})
		})
	</script>
</body>
</html>